<div class="page-content-wrapper">
	<div class="page-content">
		<div class="container-fluid container-fullw">
			<div class="row" >
				<div class="portlet box green">
					<div class="portlet-title">
						<div class="caption">
							<i class="icon-calendar"></i>
							<span class="caption-subject bold uppercase"> Lịch đặt phòng</span>
							<span class="caption-helper"></span>
						</div>
						<div class="actions">
							<a class="btn btn-circle btn-icon-only btn-default fullscreen" href="javascript:;"></a>
						</div>
					</div>
					<div class="portlet-body" style="min-height:375px">
						<div id="" class="row">
                            <div class="col-md-12">
                                <div class="col-md-2 col-xs-12 col-sm-12">
                                    <label class="hidden-sm bold" for="loc">Tòa nhà</label>
                                    <select id="loc" name="loc" class="form-control select_class"
                                        ng-options="s.name for s in campusLocations" ng-model="mSelectedLoc" ng-change="ChangeLoc(mSelectedLoc)">
                                        <option></option>                       
                                    </select>
                                </div>
                                <div class="col-md-2 col-xs-12 col-sm-12">
                                    <label class="hidden-sm bold" for="type">Loại phòng</label>
                                    <select id="type" name="type" class="form-control select_class"
                                        ng-options="s.name for s in roomTypes" ng-model="mSelectedRoomTye" ng-change="ChangeRoomType(mSelectedRoomTye)">
                                        <option></option>                       
                                    </select>
                                </div>

                                <div class="col-md-2 col-xs-12 col-sm-12">
                                    <span><label class="hidden-sm bold" for="capacity">
                                        Ngày
                                    </label></span>
                                    <span> <span><input class="form-control form-control-inline date-picker" type="date" name="mSelectedDate" ng-model="mSelectedDate" data-date-format="dd/mm/yyyy"/></span></span>
                                </div>
                                <div class="col-md-2 col-xs-12 col-sm-12">
                                    <label class="hidden-sm bold" for="type">Tiết bắt đầu</label>
                                    <select id="type" name="type" class="form-control select_class"
                                        ng-options="s for s in listClassesTime" ng-model="mSelectedStartTime" ng-change="ChangeStartTime(mSelectedStartTime)">
                                        <option></option>                       
                                    </select>
                                </div>
                                <div class="col-md-2 col-xs-12 col-sm-12">
                                    <label class="hidden-sm bold" for="type">Tiết kết thúc</label>
                                    <select id="type" name="type" class="form-control select_class"
                                        ng-options="s for s in listClassesTime" ng-model="mSelectedEndTime" ng-change="ChangeEndTime(mSelectedEndTime)">
                                        <option></option>                       
                                    </select>
                                </div>
                                <div id="" class="row" style="padding-top: 25px; padding-right:20px">

                                    <!-- <button type="submit" class="btn green-jungle btn-outline pull-right" ng-click="findTimetableClass(mSelectedBuild,mSelectedRoom,findDate)" style="font-size:120%"><i class="fa fa-spinner fa-spin" ng-show="l20"></i> Tìm kiếm theo </button> -->
                                <button type="submit" class="btn green-jungle btn-outline pull-right" ng-click="getAvailableRooms(mSelectedLoc,mSelectedRoomTye,mSelectedDate,mSelectedStartTime,mSelectedEndTime)" style="font-size:120%"><i class="fa fa-spinner fa-spin" ng-show="l20"></i> Tìm kiếm</button>
                            </div>
                            </div>
                        </div>

                        <div class="row" style="padding-top: 20px;padding-bottom: 20px;">
                            <div class="col-md-12" ng-include="'app/sbooking/guidlines.html'"></div>
                        </div>
                        <div>
                            <div class="panel-heading">
                                <h3 class="panel-title bold" style="">Danh sách phòng trống</h3>
                            </div>
                            <br>
                            <table class="table table-bordered">
                            
                            <tr style="padding: 10px; border: 1px solid #33BEFF ">
                                <th style="background-color: #F2F3F4 " class="text-center bold">STT</th>
                                <th style="background-color: #F2F3F4 " class="text-center bold">ID</th>
                                <th style="background-color: #F2F3F4 " class="text-center bold">Phòng</th>
                                <th style="background-color: #F2F3F4 " class="text-center bold">Các kíp còn sẵn</th>
                                
                                <th style="background-color: #F2F3F4 " class="text-center bold">Số chỗ ngồi</th>
                                <th style="background-color: #F2F3F4 " class="text-center bold">Booking</th>
                            </tr>
                            <tr ng-repeat="q in optionAvailableRooms">
                                
                                <td class="text-center">{{$index+1}}</td>
                                <td >
                                    <div class="">{{q.id}}</div>
                                </td>
                                <td>
                                    <div class="" >{{q.ten}}</div>
                                </td>
                                <td>
                                    <div class="" >
                                        <span ng-repeat="s in q.available_period_list">
                                            {{s}},
                                        </span> 
                                    </div>
                                </td>
                                
                                <td>
                                    <div class="" >{{q.seats}}</div>
                                </td>
                                <td>
                                    <button type="button" ng-click="clickBookRoom(q)" 
                                    class="btn btn-default btn-xs" style="font-size: 15px;">booking</button>
                                </td>
                                
                            </tr>


                            
                        </table>
                            
                            
                        </div>		
                        <!-- <div class="row">
                            <div id="s-lc-window-limit-warning" class="alert alert-info margin-top-med margin-bottom-none" role="alert" style="display: none;">
                                Bạn đã tới điểm cuối của khoảng thời gian cho phép đặt phòng. Sau thời điểm này sẽ không có khoảng thời gian đặt phòng khả dụng.
                            </div>
                        </div>
                            

                        <div class="col-12">
                           <div id='s_calendar'></div>
                        </div> -->


                        <!-- <div id="s-lc-time-grid-pagination" class="s-lc-time-grid-pagination">
                        </div>

                        <div class="s-lc-time-grid-legend text-center" id="" style="padding-top:15px">
                            <span class="label-eq-cont" data-toggle="tooltip" data-placement="top" title="" data-original-title="Phòng trống trong thời gian này, click vào để đặt!"><span class="label label-eq-avail">&nbsp;&nbsp;</span> Trống lịch</span>
                            <span class="label-eq-cont" data-toggle="tooltip" data-placement="top" title="" data-original-title="Lượt đặt của bạn chờ xét duyệt."><span class="label label-eq-pending">&nbsp;&nbsp;</span> Lượt bạn đặt</span>
                            <span class="label-eq-cont" data-toggle="tooltip" data-placement="top" title="" data-original-title="Không đặt được phòng trong khoảng thời gian này"><span class="label label-eq-unavailable">&nbsp;&nbsp;</span> Không đặt được</span>    
                        </div>

                        <div id="s-lc-eq-form-box" class="s-lc-spaces-setup-info" style="display: none;" role="region" aria-label="booking form" aria-live="polite">
                            <form id="s-lc-eq-form-times" class="form-horizontal" method="post">
                                <fieldset>
                                    <div id="s-lc-eq-bwell" class="well" tabindex="0">&nbsp;</div><div class="alert alert-warning" style="margin-top: 15px">Please be sure to complete <b>ALL</b> steps in the booking process to ensure your booking is held.</div>
                                    <div id="s-lc-eq-bform-inner" class="col-sm-offset-5">
                                        <button class="btn btn-primary" name="submit_times" id="submit_times">Submit Times</button>&nbsp;
                                    </div>
                                </fieldset>
                            </form>
                        </div>

                        <div id="s-lc-eq-form" style="clear:both; display: none;" role="region" aria-live="polite" aria-label="Booking details"></div>

                        <div id="s-lc-eq-errors" class="alert alert-danger" style="display: none;" role="region" aria-live="polite" aria-label="Error encountered"></div>

                        <div id="s-lc-eq-success" style="display: none;" role="region" aria-live="polite" aria-labelledby="s-lc-eq-success-title">
                        </div> -->
                    </div>

                </div>
            </div>
        </div>
    </div>
</div>
</div>



<div id="modalBooking" class="modal fade" role="dialog">
    <div class="modal-dialog">
        
        <div class="modal-content">
            <div class="modal-header bg-info">
                
                <h4 class="modal-title text-center">Booking room</h4>
                
            </div>
            <div class="modal-body">
                <div class="row">
                        <div class="col-md-1"></div>
                        <div class="col-md-3"><h4 class="bold">Phòng</h4></div>
                        
                         <div class="col-md-6">
                            <h4 class="">{{selected_room.ten}}</h4>
                         </div>
                         
                    </div>
                    <br>
                    <div class="row">
                        <div class="col-md-1"></div>
                        <div class="col-md-3"><h4 class="bold">Kíp bắt đầu:</h4></div>
                        
                         <div class="col-md-6">
                            {{selected_start_period}}
                         </div>
                         
                    </div>
                    <br>
                    <div class="row">
                        <div class="col-md-1"></div>
                        <div class="col-md-3"><h4 class="bold">Kíp kết thúc:</h4></div>
                        
                         <div class="col-md-6">
                            {{selected_end_period}}
                            
                         </div>
                         
                    </div>
                    
                <br>
                
                <div class="row">
                    <div class="col-md-1"></div>
                    <div class="col-md-3">
                        <h4 class="bold">Lí do</h4>	
                    </div>
                    
                         <div class="col-md-6">									
                        <input type="text" class="form-control" 
                            placeholder="Nhập lý do đặt phòng"
                            ng-model="modeBookingReason" ng-maxlength="500"
                              
                        >
                    </div>
                    
                </div>
                
            </div>
            
            
            
            <div class="modal-footer">
                <button type="button" class="btn btn-default"
                    data-dismiss="modal" ng-click="clickSubmitBooking(selected_room.id,selected_start_period,selected_end_period,modeBookingReason)">Submit</button>
                <button type="button" class="btn btn-default"
                    data-dismiss="modal" ng-click="clickClose()">Đóng</button>
                
            </div>
        </div>

    </div>
</div>
<!-- <div class="modal fade" id="quiz_session_detail" data-backdrop="static"
data-keyboard="false" tabindex="-1">
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
         <div class="modal-header bg-blue bg-font-blue">
            <button type="button" class="close" data-dismiss="modal"
            aria-hidden="true"></button>
            <h4 class="modal-title bold text-center uppercase"><span>Thông tin ca thi:</span> <span style="color: yellow;">{{quizSession.session_name}}</span></h4>
        </div>
        <div class="modal-body font-blue-chambray">
            <div class="portlet light no-padding margin-bottom-0">
               <div class="portlet-body">
                  <div class="row">
                     <div class="col-md-3"><h5 style="font-weight:bold;">Môn học</h5></div>
                     <div class="col-md-9">
                        <div class="form-group">
                           <div class="">
                              <input type="text" ng-model= "quizSession.prog_name" class="form-control" disabled />
                          </div>
                      </div>
                  </div>
              </div>
              <div class="row">
                 <div class="col-md-3"><h5 style="font-weight:bold;">Mã môn học</h5></div>
                 <div class="col-md-9">
                    <div class="form-group">
                       <div class="">
                          <input type="text" ng-model= "quizSession.prog_code" class="form-control" disabled />
                      </div>
                  </div>
              </div>
          </div>
          <div class="row">
             <div class="col-md-3"><h5 style="font-weight:bold;">Thời gian bắt đầu</h5></div>
             <div class="col-md-9">
                <div class="form-group">
                   <div class="">
                      <input type="text" ng-model= "quizSession.start_time" class="form-control" disabled />
                  </div>
              </div>
          </div>
      </div>
      <div class="row">
         <div class="col-md-3"><h5 style="font-weight:bold;">Thời gian kết thúc</h5></div>
         <div class="col-md-9">
            <div class="form-group">
               <div class="">
                  <input type="text" ng-model= "quizSession.end_time" class="form-control" disabled />
              </div>
          </div>
      </div>
    </div>
    <div class="row">
        <div class="col-md-3"><h5 style="font-weight:bold;">Giảng viên</h5></div>
        <div class="col-md-9">
        <div class="form-group">
            <div class="">
            <input type="text" ng-model= "quizSession.creator" class="form-control" disabled />
        </div>
    </div>
</div>
    </div>
    </div>
    </div>

    </div>
    <div class="modal-footer">
        <span><button class="btn btn-danger" data-dismiss="modal">Đóng lại</button></span>
    </div>
    </div>
    </div>
</div> -->

<style type="text/css">
	html, body {
         margin: 0;
         padding: 0;
         font-family: Arial, Helvetica Neue, Helvetica, sans-serif;
         font-size: 14px;
     }

     #calendar {
         max-width: 1100px;
         margin: 40px auto;
     }

     .fc-day-today {
       background: #fadbd8  !important;
       border: none !important;
    }

    .fc-unthemed .fc-today {
     background: #fadbd8  !important;
    }


    html, body {
          margin: 0;
          padding: 0;
          font-family: Arial, Helvetica Neue, Helvetica, sans-serif;
          font-size: 14px;
        }

        #calendar {
          max-width: 68%;
          margin: 40px auto;
        }

        .btn {
          font-size:1.9em; 
          
        }


        .s-lc-eq-avail, .label-eq-avail, .s-lc-eq-period-available {
  background: #14951F linear-gradient(135deg, rgba(255,255,255,.2) 25%, transparent 25%, transparent 50%, rgba(255,255,255,.2) 50%, rgba(255,255,255,.2) 75%, transparent 75%, transparent) !important;
  border-color: #14951F !important;
}       
.s-lc-eq-pending, .label-eq-pending, .s-lc-eq-period-pending {
  background: #F59F16 linear-gradient(45deg, rgba(255,255,255,.2) 25%, transparent 25%, transparent 50%, rgba(255,255,255,.2) 50%, rgba(255,255,255,.2) 75%, transparent 75%, transparent) !important;
  border-color: #F59F16 !important;
}       
.s-lc-eq-checkout, .s-lc-eq-r-unavailable, .s-lc-eq-r-padding, .label-eq-unavailable, .s-lc-eq-period-booked {
  background: #C91908 linear-gradient(45deg, rgba(255,255,255,.2) 25%, transparent 25%, transparent 50%, rgba(255,255,255,.2) 50%, rgba(255,255,255,.2) 75%, transparent 75%, transparent) !important;
  border-color: #C91908 !important;
}

</style>